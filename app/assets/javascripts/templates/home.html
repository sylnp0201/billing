<app-header></app-header>

<main class="container-fluid main-content home">
  <div class="content-head">
    <h1>Billing Summary</h1>
  </div>

  <table class="table table-hover table-condensed table-expandable">
    <tr>
      <th>Case Number</th>
      <th>Client</th>
      <th>Spent</th>
      <th>Date</th>
      <th>Description</th>
      <th>Edit</th>
      <th>Remove</th>
    </tr>
    <tr ng-repeat-start="item in $ctrl.summary"
        class="clickable"
        ng-click="$ctrl.toggleCollapsed(item)">
      <td>{{item.case.name}}</td>
      <td>{{item.case.client}}</td>
      <td>{{item.stats.spent | number:1}}</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr ng-repeat-end
        ng-repeat="bill in item.bills"
        uib-collapse="item.isCollapsed"
        class="active">
      <td>{{bill.case.name}}</td>
      <td>{{bill.case.client}}</td>
      <td>{{bill.spent | number:1}}</td>
      <td>{{bill.date | date:'yyyy-MM-dd'}}</td>
      <td>{{bill.description}}</td>
      <td><span ng-click="$ctrl.editBill(bill.id)"
                class="clickable glyphicon glyphicon-pencil"></span></td>
      <td><span ng-click="$ctrl.destroyBill(bill.id)"
                class="clickable glyphicon glyphicon-trash"></span></td>
    </tr>
  </table>
</main>
