<div class="search">
  <div class="modal-header">
    <h3 class="modal-title">Search</h3>
  </div>

  <div class="modal-body">
    <div class="form-group autocomplete">
      <label for="name">Case Number</label>
      <input type="text"
             name="name"
             ng-model="$ctrl.case.name"
             ng-change="$ctrl.autocomplete()"
             ng-model-options='{ debounce: 500 }'
             required="required"
             class="form-control search-input">
       <ul class="dropdown" ng-if="$ctrl.autocompleteOptions">
         <li ng-repeat="option in $ctrl.autocompleteOptions"
             class="dropdown__item"
             ng-click="$ctrl.select(option)">
           {{option.name}}
         </li>
       </ul>
    </div>

    <div class="search-result" ng-if="$ctrl.result">
      <h5>{{($ctrl.result.name + ' | ' + $ctrl.result.client + ' | ' + $ctrl.result.summary).slice(0,80)}}</h5>
      <table class="table table-hover">
        <tr>
          <th></td>
          <th>Spent (hours)</td>
          <th>Date</td>
          <th>Task</td>
        </tr>
        <tr ng-repeat="bill in $ctrl.result.bills">
          <th></td>
          <td>{{bill.spent | number:1}}</td>
          <td>{{bill.date}}</td>
          <td>{{bill.task}}</td>
        </tr>
        <tr class="total success">
          <td>Total</td>
          <td>{{$ctrl.result.spent | number:1}}</td>
          <td></td>
          <td></td>
        </tr>
      </table>
    </div>
  </div>

  <div class="modal-footer">
    <button class="btn btn-warning" type="button" ng-click="$ctrl.close()">Close</button>
  </div>
</div>
