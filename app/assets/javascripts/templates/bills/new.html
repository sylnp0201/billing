<div class="bill-new">
  <div class="modal-header">
    <h3 class="modal-title">New Billing Record</h3>
  </div>

  <div class="modal-body">
    <div class="form-group">
      <label for="case">Case To Bill</label>
      <select ng-options="case as (case.name + ' | ' + case.client + ' | ' + case.summary).slice(0,80) for case in $ctrl.cases track by case.id"
              class="form-control"
              ng-required="true"
              ng-model="$ctrl.bill.case">
      </select>
    </div>

    <div class="form-group modal-date">
      <label for="date">Date</label>
      <input type="text" class="form-control"
             uib-datepicker-popup="{{$ctrl.dateFormat}}"
             ng-model="$ctrl.bill.date"
             ng-change="$ctrl.timeChanged()"
             is-open="$ctrl.calendar.opened"
             datepicker-options="$ctrl.dateOptions"
             ng-required="true"
             close-text="Close" />
      <span class="input-group-btn">
        <button type="button" class="btn btn-default" ng-click="$ctrl.openCalendar()">
          <i class="glyphicon glyphicon-calendar"></i>
        </button>
      </span>
    </div>

    <div class="form-group row">
      <div class="col-md-4">
        <label for="start_time">Start</label>
        <div uib-timepicker
             ng-model="$ctrl.bill.start_time"
             ng-change="$ctrl.timeChanged()"></div>
      </div>
      <div class="col-md-4">
        <label for="end_time">End</label>
        <div uib-timepicker
             ng-model="$ctrl.bill.end_time"
             ng-change="$ctrl.timeChanged()">
        </div>
      </div>
      <div class="col-md-4">
        <label for="tick-tock">Timer</label>
        <button type="button"
                id="ticktock"
                ng-model="$ctrl.ticktock"
                ng-click="$ctrl.toggleTicktock()"
                ng-disabled="$ctrl.bill.start_time && $ctrl.bill.end_time"
                uib-btn-checkbox
                btn-checkbox-true="1"
                btn-checkbox-false="0"
                class="btn btn-info">
          <div class="action-text">Tick</div>
        </button>
      </div>
    </div>

    <div class="form-group">
      <label for="name">Hours Spent</label>
      <input type="text"
             id="spent"
             name="spent"
             ng-required="true"
             ng-model="$ctrl.bill.spent"
             class="form-control">
    </div>

    <div class="form-group template-input">
      <label for="task">Task</label>
      <select ng-options="reason as ('-- ' + reason.name + ' --') for reason in $ctrl.reasons track by reason.id"
              class="form-control"
              ng-model="taskTemplate">
        <option value=''>-- Choose A Task Template --</option>
      </select>
      <textarea id="task-input" type="text" name="task"
                ng-model="$ctrl.bill.task"
                class="form-control">
      </textarea>
    </div>
  </div>

  <div class="modal-footer">
    <button class="btn btn-default" type="button" ng-click="$ctrl.ditto()">Ditto</button>
    <button class="btn btn-primary" type="button" ng-click="$ctrl.ok()">OK</button>
    <button class="btn btn-warning" type="button" ng-click="$ctrl.cancel()">Cancel</button>
  </div>
</div>
